## 22.03.20_라즈베리파이_나스설정해보기

## 1.이미지만들기

```dockerfile
docker run --name OpenMediaVault -itd -v ./path/to/data:/data:rw -P ikogan/openmediavault:dev
```

- 이미지 생성을 위한 도커파일

```sh
docker build --platform linux/x86_64 --tag km/openmediavault .
```

- --platform linux/x86_64 이를 붙여준 이유는 아래와 같이 에러가 발생했기 때문

  - ![image-20220320144713098](/Users/kyeongminpark/Library/Application Support/typora-user-images/image-20220320144713098.png)
    - 위를 붙여주면 해결된다.

- ```
  docker run --name OpenMediaVault --platform linux/x86_64 -itd -h openmediavault.example.test -v /path/to/data:/data:Z -P ikogan/openmediavault
  ```

```
version: '3.1'

services:
  nas:
    image: ikogan/openmediavault:dev
    restart: always
    ports:
      - 5000:8080                 
    volumes:
      - ./path/to/data:/data:Z
      - ./sql/InitDb.sql:/docker-entrypoint-initdb.d/InitDb.sql
```

