## 22.03.14_도커권한문제

## 01.도커권한문제 발생

![image-20220314200320454](22.03.014_도커권한문제.assets/image-20220314200320454.png)

- 위와 같이 현재 처럼 권한 문제로 도커 컴포즈가 안되는 경우이다.
- 또한 이미지때문에도 이런 경우가 생긴다.

## 02.도커권한문제 해결하기

- 해당 문제는 사용자가 /var/run/docker.sock를 접근하려고 하였지만 권한이 없어 발생하는 문제
  - 사용자가 root:docker 권한을 가지고 있어야 함

![image-20220314200614993](22.03.014_도커권한문제.assets/image-20220314200614993.png)

- `ls -al /var/run/docker.sock`
  - 위와 같이 해보면 위와 같이 나오는데 
    - root권한을 가지고 실행하는 것은 권장되지 않으므로, 사용자를 docker group에 포함시켜주면 됨
- `sudo usermod -aG docker $USER`
  - 위와 같이 해주면 된다.

![image-20220314201052002](22.03.014_도커권한문제.assets/image-20220314201052002.png)

- 물론 그냥 root권한으로 해도 되지만
  - root권한을 무분별하게 사용하는것은 권장되는것이 아니라서
    - 현재 로그인된 유저를 docker그룹에 추가하는 방법이 좋음

